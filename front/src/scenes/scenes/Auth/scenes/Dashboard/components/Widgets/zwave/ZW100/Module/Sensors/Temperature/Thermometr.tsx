import React from 'react';
import { observer } from 'mobx-react';
import cn from 'classnames';

import styles from './index.scss';
import { ScreenSize } from '~/constants/enums';

type Props = {
    value: number;
    size: ScreenSize;
};

function Thermometr({ value, size }: Props) {
    let percentage = ((value - 5) * 100) / (40 - 5);

    if (!Number.isFinite(percentage) || Number.isNaN(percentage)) {
        percentage = value;
    }

    const style = {
        transform: `scaleY(${percentage / 100})`,
    };

    const iconClass = cn(styles.icon, { [styles.iconSmall]: size === ScreenSize.small });

    return (
        <svg className={iconClass} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490 490">
            <path d="M262.096 490c-14.151 0-27.883-2.774-40.818-8.245-12.487-5.281-23.7-12.841-33.326-22.468-9.626-9.626-17.185-20.838-22.468-33.326-5.47-12.933-8.244-26.666-8.244-40.816 0-16.766 4.058-33.445 11.733-48.233 6.607-12.729 15.9-24.11 27.054-33.183V49.967C196.028 22.415 218.443 0 245.996 0h32.201c27.552 0 49.968 22.415 49.968 49.967v253.762c11.154 9.072 20.447 20.453 27.054 33.183 7.676 14.788 11.733 31.468 11.733 48.233 0 14.15-2.773 27.884-8.245 40.816-5.282 12.488-12.84 23.7-22.467 33.326-9.626 9.627-20.839 17.186-33.327 22.468-12.932 5.471-26.665 8.245-40.817 8.245zm-16.1-469.422c-16.205 0-29.389 13.184-29.389 29.389V308.78a10.29 10.29 0 0 1-4.213 8.304c-21.649 15.84-34.574 41.283-34.574 68.06 0 46.47 37.806 84.276 84.277 84.276 46.471 0 84.277-37.807 84.277-84.276 0-26.777-12.925-52.221-34.575-68.06a10.29 10.29 0 0 1-4.213-8.304V49.967c0-16.205-13.184-29.389-29.389-29.389z" />
            <path
                className={styles.bar}
                style={style}
                d="M284.726 327.435V60.505c0-10.596-7.229-19.185-16.146-19.185h-11.402c-8.917 0-16.146 8.59-16.146 19.186v266.929z"
            />
            <path d="M157.262 75.302a8.436 8.436 0 0 1-8.436 8.436h-17.341a8.437 8.437 0 0 1-8.437-8.436V66.11a8.437 8.437 0 0 1 8.437-8.437h17.341a8.435 8.435 0 0 1 8.436 8.437z" />
            <path d="M157.262 130.298a8.436 8.436 0 0 1-8.436 8.437h-17.341a8.436 8.436 0 0 1-8.437-8.437v-9.192a8.437 8.437 0 0 1 8.437-8.437h17.341a8.435 8.435 0 0 1 8.436 8.437z" />
            <path d="M157.262 185.294a8.436 8.436 0 0 1-8.436 8.437h-17.341a8.436 8.436 0 0 1-8.437-8.437v-9.191a8.438 8.438 0 0 1 8.437-8.438h17.341a8.437 8.437 0 0 1 8.436 8.438z" />
            <path d="M157.262 240.291a8.437 8.437 0 0 1-8.436 8.438h-17.341a8.437 8.437 0 0 1-8.437-8.438V231.1a8.436 8.436 0 0 1 8.437-8.436h17.341a8.435 8.435 0 0 1 8.436 8.436z" />
            <path d="M157.262 295.287a8.436 8.436 0 0 1-8.436 8.438h-17.341a8.436 8.436 0 0 1-8.437-8.438v-9.191a8.437 8.437 0 0 1 8.437-8.436h17.341a8.436 8.436 0 0 1 8.436 8.436z" />
            <circle cx="261.834" cy="385.145" r="64.3" />
        </svg>
    );
}

export default observer(Thermometr);
